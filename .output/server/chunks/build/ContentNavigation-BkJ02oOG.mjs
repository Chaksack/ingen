import{defineComponent as t,useSlots as r,h as e,toRefs as i,computed as o,useSSRContext as n}from"vue";import{Q as a}from"../nitro/nitro.mjs";import{u as m,a as s,q as p,w as u,e as l,b as d,s as v,j as c}from"./query-U8U6f_VV.mjs";import{u as f}from"./preview-CyjoVtle.mjs";import{d as g,b as h}from"./server.mjs";import{_ as y}from"./nuxt-link-ios8fDuv.mjs";import"unist-util-visit";import"hast-util-to-string";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"consola";import"@unhead/schema-org/vue";import"node:url";import"unified";import"mdast-util-to-string";import"micromark";import"unist-util-stringify-position";import"micromark-util-character";import"micromark-util-chunked";import"micromark-util-resolve-all";import"micromark-util-sanitize-uri";import"slugify";import"remark-parse";import"remark-rehype";import"remark-mdc";import"remark-gfm";import"rehype-external-links";import"rehype-sort-attribute-values";import"rehype-sort-attributes";import"rehype-raw";import"detab";import"github-slugger";import"unhead/server";import"unhead/utils";import"unhead/plugins";import"vue-bundle-renderer/runtime";import"vue/server-renderer";import"ipx";import"perfect-debounce";import"vue-router";const k=t({name:"ContentNavigation",props:{query:{type:Object,required:!1,default:void 0}},async setup(t){const{query:r}=i(t),e=o(()=>{var t;return"function"==typeof(null==(t=r.value)?void 0:t.params)?r.value.params():r.value});if(!e.value&&g("dd-navigation").value){const{navigation:t}=m();return{navigation:t}}const{data:n}=await s(`content-navigation-${a(e.value)}`,()=>(async t=>{const{content:r}=h().public;"function"!=typeof(null==t?void 0:t.params)&&(t=p(t));const e=t.params(),i=r.experimental.stripQueryParameters?u(`/navigation/${a(e)}.${r.integrity}/${l(e)}.json`):u(`/navigation/${a(e)}.${r.integrity}.json`);if(d(i),v())return(await import("./client-db-BYIq7tLa.mjs").then(t=>t.generateNavigation))(e);const o=await $fetch(i,{method:"GET",responseType:"json",params:r.experimental.stripQueryParameters?void 0:{_params:c(e),previewToken:f().getPreviewToken()}});if("string"==typeof o&&o.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return o})(e.value));return{navigation:n}},render(t){const i=r(),{navigation:o}=t,renderLink=t=>e(y,{to:t._path},()=>t.title),renderLinks=(t,r)=>e("ul",r?{"data-level":r}:null,t.map(t=>t.children?e("li",null,[renderLink(t),renderLinks(t.children,r+1)]):e("li",null,renderLink(t))));return(null==i?void 0:i.default)?i.default({navigation:o,...this.$attrs}):renderLinks(o,0)}}),b=k.setup;k.setup=(t,r)=>{const e=n();return(e.modules||(e.modules=new Set)).add("node_modules/@nuxt/content/dist/runtime/components/ContentNavigation.vue"),b?b(t,r):void 0};export{k as default};
//# sourceMappingURL=ContentNavigation-BkJ02oOG.mjs.map
